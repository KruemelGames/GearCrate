<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GearCrate - Star Citizen Inventory Manager</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header>
            <div class="header-content">
                <div class="header-left">
					<h1><img id="gear-logo" src="/img/GearCrate_Logo.png" alt="GearCrate Logo"> <span data-i18n="appTitle">GearCrate</span></h1>
                    <p class="subtitle">Star Citizen Inventory Manager</p>
                </div>
                <div class="header-right">
                    <div class="language-selector">
                        <label data-i18n="language">Language:</label>
                        <select id="language-select">
                            <option value="de">ğŸ‡©ğŸ‡ª Deutsch</option>
                            <option value="en">ğŸ‡¬ğŸ‡§ English</option>
                            <option value="fr">ğŸ‡«ğŸ‡· FranÃ§ais</option>
                            <option value="es">ğŸ‡ªğŸ‡¸ EspaÃ±ol</option>
                        </select>
                    </div>
                </div>
            </div>
        </header>

        <!-- VIEW NAVIGATION -->
        <section class="view-navigation">
            <button id="view-btn-inventory" class="view-btn active">ğŸ“¦ <span data-i18n="inventory">Inventar</span></button>
            <button id="view-btn-gearsets" class="view-btn">ğŸ¯ Gear Sets</button>
        </section>

        <!-- MAIN CONTENT AREA (wird gewechselt) -->
        <div id="main-content">
            <!-- Inventar View -->
            <div id="inventory-view" class="content-view active">
                <!-- Search Section -->
                <section class="search-section">
                    <h2>ğŸ” <span data-i18n="search">Suche</span></h2>
                    <div class="search-controls">
                        <input type="text" id="search-input" data-i18n-placeholder="searchPlaceholder" placeholder="Suche Items...">
                        <div class="search-limit-wrapper">
                            <label data-i18n="searchLimit">Ergebnisse zeigen:</label>
                            <select id="search-limit">
                                <option value="10">10</option>
                                <option value="25" selected>25</option>
                                <option value="50">50</option>
                                <option value="100">100</option>
                                <option value="999" data-i18n="categoryAll">Alle</option>
                            </select>
                        </div>
                    </div>
                    <div id="search-results" class="search-results hidden"></div>
                    <div id="item-preview" class="item-preview hidden">
                        <h3 id="preview-name"></h3>
                        <p id="preview-type"></p>
                        <img id="preview-image" src="" alt="Preview">
                        <button id="add-button" data-i18n="add">HinzufÃ¼gen</button>
                    </div>
                </section>

                <!-- Inventory Section -->
                <section class="inventory-section">
            <div class="inventory-header">
                <!-- H2 ENTFERNT -->
                
                <!-- NEW: Button-based Controls -->
                <div class="inventory-controls-wrapper">
                    <!-- Left: Sortierung -->
                    <div class="control-section">
                        <h3 class="control-title">ğŸ”€ <span data-i18n="sortBy">Sortieren nach:</span></h3>
                        <div class="button-group">
                            <button class="sort-btn active" data-sort="name">
                                ğŸ“ <span data-i18n="sortName">Name</span>
                            </button>
                            <button class="sort-btn" data-sort="count">
                                ğŸ”¢ <span data-i18n="sortCount">Anzahl</span>
                            </button>
                            <button class="sort-btn" data-sort="date">
                                ğŸ“… <span data-i18n="sortDate">Datum</span>
                            </button>
                        </div>
                        <button id="sort-order-btn" class="order-btn" data-i18n="sortAscending">
                            â¬‡ï¸ Aufsteigend
                        </button>
                    </div>
                    
                    <!-- Right: Kategorien -->
                    <div class="control-section">
                        <h3 class="control-title">ğŸ·ï¸ Kategorien</h3>
                        <div id="category-buttons" class="category-grid">
                            <!-- Buttons werden dynamisch geladen -->
                            <div style="color: #666; padding: 10px;" data-i18n="categoryLoading">Kategorien werden geladen...</div>
                        </div>
                    </div>
                </div>
                
                <!-- Text Filter -->
                <div class="text-filter">
                    <input type="text" id="filter-input" data-i18n-placeholder="inventoryFilter" placeholder="Inventar filtern...">
                </div>
            </div>
            
            <div id="inventory-grid" class="inventory-grid">
                <p style="text-align: center; color: #888;" data-i18n="inventoryEmpty">Lade Inventar...</p>
            </div>
        </section>
            </div>
            <!-- Ende Inventar View -->

            <!-- Gear Sets View -->
            <div id="gearsets-view" class="content-view">
                <section class="gearsets-section">
                    <!-- Sticky Header -->
                    <div class="gearsets-header">
                        <!-- H2 ENTFERNT -->
                        
                        <!-- Set Selector Buttons -->
                        <div class="gearsets-selector">
                            <h3 class="control-title">ğŸ¯ Set auswÃ¤hlen:</h3>
                            <div id="set-buttons" class="set-buttons-grid">
                                <button class="set-btn active" data-set="ADP">ADP</button>
                                <!-- Buttons werden dynamisch geladen -->
                                <button class="set-btn set-btn-all" data-set="ALL">ğŸŒ Alle Sets</button>
                            </div>
                        </div>
                        
                        <!-- Filter Buttons -->
                        <div class="gearsets-filter">
                            <button class="filter-btn active" data-filter="all">Alle</button>
                            <button class="filter-btn" data-filter="none">ğŸ”´ None (0/4)</button>
                            <button class="filter-btn" data-filter="1">ğŸ”µ 1/4</button>
                            <button class="filter-btn" data-filter="2">ğŸ”µ 2/4</button>
                            <button class="filter-btn" data-filter="3">ğŸ”µ 3/4</button>
                            <button class="filter-btn" data-filter="all-parts">ğŸŸ¢ ALL (4/4)</button>
                        </div>
                    </div>
                    
                    <!-- Gear Sets Grid (scrollbar) -->
                    <div id="gearsets-grid" class="gearsets-grid">
                        <p style="text-align: center; color: #888;">Lade Gear Sets...</p>
                    </div>
                </section>
            </div>
            <!-- Ende Gear Sets View -->
        </div>
        <!-- Ende Main Content -->

        <!-- Stats Section -->
        <section class="stats-section">
            <h2>ğŸ“Š <span data-i18n="statsTitle">Statistiken</span></h2>
            <div class="stats-grid">
                <div class="stat-item">
                    <span class="stat-label" data-i18n="statsTotalInDb">Items in Datenbank:</span>
                    <span class="stat-value" id="total-items-db">0</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label" data-i18n="statsInInventory">Items im Inventar:</span>
                    <span class="stat-value" id="inventory-unique-items">0</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label" data-i18n="statsTotalCount">Gesamtanzahl:</span>
                    <span class="stat-value" id="total-count">0</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label" data-i18n="statsCacheSize">Cache-GrÃ¶ÃŸe:</span>
                    <span class="stat-value" id="cache-size">0 MB</span>
                </div>
            </div>
            
            <!-- Kategorie-Statistiken (dynamisch) -->
            <div id="category-stats" class="category-stats"></div>
        </section>
    </div>

    <!-- Item Detail Modal -->
    <div id="item-modal" class="modal hidden">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2 id="modal-name"></h2>
            <img id="modal-image" src="" alt="Item Image">
            <div class="modal-controls">
                <label data-i18n="modalCount">Anzahl:</label>
                <div class="count-controls">
                    <button onclick="changeCount(-1)">âˆ’</button>
                    <input type="number" id="modal-count" min="0" value="0">
                    <button onclick="changeCount(1)">+</button>
                </div>
            </div>
            <div class="modal-controls">
                <label data-i18n="modalNotes">Notizen:</label>
                <textarea id="modal-notes" rows="4" placeholder="Optionale Notizen..."></textarea>
            </div>
            <div class="modal-actions">
                <button onclick="deleteItem()" class="delete-btn" data-i18n="delete">LÃ¶schen</button>
            </div>
        </div>
    </div>

    <!-- Translation Scripts (LOAD FIRST!) -->
    <script src="translations/german-translation.js"></script>
    <script src="translations/english-translation.js"></script>
    <script src="translations/french-translation.js"></script>
    <script src="translations/spanish-translation.js"></script>
    <script src="translations/translations.js"></script>
    
    <!-- Fuse.js for smart search -->
    <script src="https://cdn.jsdelivr.net/npm/fuse.js@7.0.0"></script>
    
    <!-- App Scripts -->
    <script src="api-adapter.js"></script>
    <script src="app.js"></script>
    <script src="i18n-integration.js"></script>
</body>
</html>
